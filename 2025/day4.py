test = """..@@.@@@@.
@@@.@.@.@@
@@@@@.@.@@
@.@@@@..@.
@@.@@@@.@@
.@@@@@@@.@
.@.@.@.@@@
@.@@@.@@@@
.@@@@@@@@.
@.@.@@@.@."""

real = """.@@@@@...@.@@@@@@@@@@.@@@@@@@.@.@.@@@@@@@@@@@@@..@.@@@.@@@@@@..@.@..@.@@...@.@@@@..@@@@....@@@.@@@..@.@.@.@@.@.@@@.@@@.@@@@@.@.@......@...@@
.@@@@@.@....@.....@@@.@@.@@.@@@.@@@.@.@.@.@@@@@.@@.@@@@@.@@@@@@@@@@@..@@.@.@@.@@@.@@@@@@@@@@@..@...@@.@.@@.@.@@@@@@.@@@.@.@@..@@@@.@@@@..@.@
@.@@@@.@@@@.@@@@..@@.@@@@@@@@.@@@@.@@@@.@@..@.@...@.@.@.@.@@..@@@@@.@.@.@@@@.@@@@@@@@@.@@@@..@@...@..@.@..@@.@..@.@@.@@..@@@@@@@@.@@@@@.@...
.@.....@.@@@..@.@@@.@..@@@@@..@@@.@@..@...@.@@@@.@@@.@.@@@@@@.@.@@@@@@@.@.@@@.@@@@@@...@@.@@..@..@@@.@@.@@@@.@@@.@@..@.@@@.@.@...@@.@...@.@.
@@@@@.@@@.@@@@@@@..@@.@.@@@..@@..@@@.@@....@.@..@@@@@@@@.@.@@..@@...@@.@@@...@.@.@@@..@.@.@@@@@@.@...@@@@@...@.@..@@.@@..@@@@@.@.@.@@..@@@@.
@.@@@@@@..@@@@...@..@@@@@@.@@@..@.....@@.@.@@...@@@.@@.@.@@@....@@.@.@.@@@@.@@@@@.@@@.@@...@@.@@@@@@.@@@@@@@@@.@.@@@.@@.@@@@@@@.@@@@...@.@@@
.@@@.@.@@@..@@.@.@@@@@.@.@..@@....@..@.@.@@@@.@..@@.@..@@@@@.@@@@@@@.@.@@@.@.@@@.@@@@.@@@@@@@@.@@@@@@..@@@..@@@..@.@@.@.@..@@@@@@.@@@@..@@@@
@@@@@@@.@@...@@@....@.@@@@.@@@@@@@@@.@@@.@@.@@..@...@@@@@.@@@..@.@@@@@@@@@@.@@@.@..@@@.@@@@.@.@@..@..@@@@@@@@.@@..@@@@@...@@@@@.@.@@.@..@..@
@.@@@@@..@@@.@@@.@@@@@@@@@..@.@@.@@...@.@@@..@..@@@@.@@@@@@@@@@..@@@@@@@@..@@@@@.@@@@@@@....@@.@@@@.@@@@@@@.@@..@..@@.@@@@.@@@@@@@.@@@..@..@
@@@@@.@@.@@@@.@.@@@@..@.@@..@..@@@@.@@@.@@@@.@..@.@@.@.@@@@@@@@.@...@@@@...@.@.@@.@@@.@.@@.@..@..@..@.@........@@@@@@@.@.@.@..@@@@@@.@@..@@@
.@.@@@.@@@@.@@@...@@@@.@@@.@@@.@.@.@...@@.@...@@@@@@@@..@.@@@@@@..@.@..@@.@@@@..@@@@@...@..@.@.@.@.@.@..@@.@@..@@@@.@@@.@@@@.@@@.@@@@.@@@@@@
@@.@@@@@@@.@@@..@@.@@@.@..@@@@..@@...@.@@@@@@..@@@.@@.@@@.@@..@...@.@@@@.@@@@@@.@@@.@@@@@@@@@.@..@.@.@@@@.@.@@..@@..@.@.@.@@@@@.@@@@@@@@@@.@
@@@.@...@@@@@.@.@.@@..@..@.@@@.@..@@.@@....@@...@@@@@@.@..@@..@@@@@.@..@@@@@@@@@@@@@@@@@.....@@@@@@@@@..@@@@@@@@@@@..@@@.@.@.@.@@@@@.@@@.@.@
@@...@@@.@..@@..@@@@..@@@@@@@@..@@..@.@.@@...@@.@.@...@@@..@@@.@@@@..@@@.@@@.@@@@@@@.@@@@@@@@.@@@@@@@@@@@.@.@@@@@@@@.@@.@@..@@@@.@@@.@@...@.
@@@@@.@..@@.@@.@@@@@@@@@@@.@@.@@@@@@@..@@@@@@@@@..@@.@@@.@@@.....@@@@@....@@@@@@..@..@@@@@@.@..@@@@@.@.@@@@@@@@..@.@@@@.@@.@.@.@.@.@.@.@@..@
@@@.@@..@..@@.@@@@...@@..@@@@@.@@@.@@@.@..@@...@@@@@..@@@@..@..@@@@.......@@.@@@....@...@@.@@@@@@@..@@.@.@@@@@@.@@@@@@.@@@@.@.@@.@@@@@.@.@.@
@...@.@@@@@..@@.@@@@@@.@@.@.@@@@@@.@.@@.@.@@@@@@@@@.@@.@@.@@.@@@@..@.@@@.@..@@.@@@@..@@.@.@.@.....@.@@@@@.@.@@@@@@.@.@...@@@@@..@.@@@.@@@@@.
.@.@@.@@.@@.@@..@@.@.@@..@@.@@@@..@@@@@@@@@.@@.@@@@@.@@.@@@.@@@@@@@@@@@@@@@@@@@@@@@@.@@@.@.@@..@.@@.....@.@.@@.@@.@@.@@@@@@....@@.@@@@@.@@@@
@@@.@.@@@@..@..@..@@@.@@.@@.@@@@@@@@@..@@@@...@.@@.@@@@@.@@.@.@@@@@.@...@.@.@@.@@@@@@..@..@...@.@.@.@@@.@.@@...@.@@@@.@.@@.....@@@.@@@@@@@.@
@.@@@@.@@@...@@@@...@.@@@.@@@@@@@@.@.@..@.@@@@@@@...@@.@@@@@.@.@@@@@@.@..@@..@.@.@.@@@@@@@.@@.@@.@@.@.@@@@@@@@....@..@@@.@@@@@.@@@@@@@.@@@@@
.@@@.@@@@@@@@..@.@@.@@@.@@@@@@..@@@@@..@@@@@@.@.@@@.@@.@.@@..@@@@@@..@@.@@@@@.@@@.@@.@..@.@@@@.@..@.@@.@@@.@@@@@@@.@@.@.@@.@@.@@.@@@@.@@@.@.
@@@@@@@.@@@.@@.@@@.@..@@@....@@@@@..@@@@.@@.@@@@@@@@@.@@@..@@.@@@@@...@@@@.@..@.@@@.@@@...@.@.@.@@@..@@@@@.@@@@..@@@@@@@@@@@@@@@@..@@@@.@@@.
@@...@.@@@..@@@@@.@.@@@@@.@.@.@@.@@@@.@..@@@@@@@@.@.@.@...@@@...@@...@@.@...@.@@@..@..@.@@@@.@@.@@@@@@@@@@.@.@...@...@..@@@@@.@@@@@@@@@@....
.@.@.@@....@@@@@.@...@.@@@@@@.@@@@@.@@....@.@@@@@.@@@@@@.@@@@@@@.@@@.@@...@....@@@..@@@@....@@@@..@...@.@@@@@@@..@@..@@@.@.@@.@@@@@@@..@.@@@
.@@@@.@@.@@..@@.@@@.@.@@@@.@...@...@@@@@@@@..@@.@@.@@@@@@@.@@.@@@@@@.@@.@@@@@@@.@.@..@@@@@@@.@......@.@@..@@..@.@.@@.@@.@@..@@@@@....@@.@@@@
.@@....@.@..@..@@@@@@...@@@@@.@@@@..@.@@@..@@@..@@@@@@@@.@@..@@@@@@@..@..@..@@.@...@@@@.@@@@@@.@..@@@@@@@@@..@@@.@.@@.@@.@@.@@@@@..@@@@@..@.
@..@@@@.@..@..@@@.@..@@.@@.@@@@@@.@@@@@@@@@.@@@.@@@@.@.@@@@@@.@@@..@@.@@@..@..@.@.@@@..@@@@.@@@@@..@@@@@.@.@.@@@.@.@@@@..@@@@@@.@@@@@@@.@.@.
@@@@@.@@.@@@.@@@.@@.@.@.@@...@.@..@@@@..@..@@@@.@@..@@...@.@@..@.@@@@@@@@..@..@.@..@@..@@@@@.....@@.@@@..@@@@@.@@@@.@@@@.@.@@@@..@@@@@@..@@.
.@.@...@@..@@@.@.@@.@.@.@..@...@@@@@@@@@@...@...@@@.@.@@.@@@@@@@@@@@@@@@.@.@@@.@@..@@@.@.@@@.@..@@....@.@...@@..@@..@..@.@@@.@.@..@@.@..@...
.@@.@@@@@.@@.@@@@@..@@@.@..@@..@.@.@@..@.@..@@@.@@.@@@..@.@..@@@@@@@@@.@....@@...@.@@.@@..@.@@.@@@.@@@.@@...@.@@@@@.@..@.@@@.@..@..@@@@@@@@.
@@@@@@.@.@@..@@.@@.@@@@.@.@@@@.@.@@@@..@@...@@..@@@@@@@.@@@@.@..@.@@@.@@@.@@@@@.@@@@@.@@@@.@@@@@@.@@@@.@....@.@@@.@@@.@.@.@.@@.@@@@.@.....@@
@...@@.@.@.@@@@@@...@@@@..@.@...@@@.@@...@.@...@@..@@@@@...@.@..@@.@@@@@.@@@@@..@@@@@@.@...@@@...@@@@@@....@@@@@@@...@.@@@@@@@@@..@...@@@@.@
...@.@@@@@.@.@@@@@..@@.@.@@@@@@..@@...@@@@..@.@@.@@@@....@@.@@@..@@..@@@.@..@...@@@@.@..@.@.@@@...@@@@@@.@.@.@@@.@.@@..@@@@.@@.@.@@@.@@.@.@@
@.@@.@@....@.@@..@@.@@..@.@@..@@@...@.@@.@@@.@@.@..@@.@@.@@@@@...@..@.@@.@@@..@@..@@@.@@.@..@.@@..@..@@@@@@@@..@..@@..@@.@.....@@@@@@@.@@@@.
.@.@.@@@@..@..@@@@@.@@@.@@.@.@..@.@@@@@.@..@@.@@@@@@@@.@@@@@@@@.@..@...@@..@@..@@.@@@.@..@@@@@@@@@@.@@.@....@@@@@@@@..@@@.@@@@@..@@@.@@.@..@
..@.@@.@@@@.@.@@@@..@@@.@@@@@.@@.@@@.@@.@@.@@.@@.@@@@..@@@@.@@@@@@@.@@@.@@@@@..@@@.@.@@@...@@@@@@@..@.@@@@@@@@.@.@.@@.@@...@@@.@.@@@...@@..@
.@.@@.@..@.@@@@@@.@@.@@@.@.@@@@@.@..@..@@@.@.@@@..@@@@@@.@.@..@@.@@@...@@@@@@...@..@.@.@@@@..@@@.@@@@@@..@@@@@..@..@.@@...@@@.@@..@...@@.@.@
@@..@.@@@.@.@.@@@@.@@@@.@.@@.@..@.@.@@@..@.@@@@@@...@.@@@@@@.@.@...@@...@.@...@@@@@@.@@@@@@@@@@.@@.@..@@.@@..@.@@@@@@@.@@.@@@@@...@..@@@.@@.
@@@.@@..@.@@@.@@.@@@@@....@@@@@@.@@@.@@...@..@..@@.@@.@@..@.@@@@@@@@@..@@@..@@.@@@.@.@@@.@...@@@@@......@@@@@@.@@@.@..@@@@....@...@.@@.@@@@.
@@@@@@@.@@@@@@...@..@@@@@.@@@@@@...@@@@@@@..@@.@@@@.@@@@.@..@@@@.@@.@.@@.@@.@.@.@@@@@.@@@@.@@.@@.@@@@@@..@..@@@.@..@@@...@@.@.@@@.@....@.@..
.@@.@..@@.@@@@.@@...@@@.@.@@@.@@..@...@.@@.@@@@.@@@@.@@@.@...@@@@.@@.@.@.@@@..@...@@@@@@@@.@.@...@@@..@@@.@@@@.@@@@@.@@@@.@.@.@@.@@..@@@@...
@@...@@@@...@@.@.@@@.@@.@@.@.@.@@.@@.@..@..@@.@.@..@.@@@@@.@@@@@.@.@@@.@@@@@.@.@@.@@.@.@@..@@@@.@@..@@@@@@.@.@@@.@@@.@@@@..@@..@@@..@@@@.@@.
@@@@@..@@@@@.@@.@@.@@@@@@..@@@@.@@@..@.@@@@@.@.@..@@@@@@@@@.@@@@@.@@@..@..@.@@.@..@@@@@@.@@.@@..@.@.@@@.@.@.@.@.@@.@.@@@.@.@.@@..@@.@@.@@@.@
@.@@@..@.@@.@@@@@@@.@@.@@@@@...@@@@...@@@.@@@@@@@.@@@.@@@@@@@..@..@..@@..@@.@@@@@.@...@@....@.@.@..@@@@@@.@@..@.@@..@.@.@.@@@@.@@@@.@.@@@@.@
...@.@@@@@.@@.@@..@..@@@@@@@.@@@@.@@@.@.@..@@@@.@@....@@@@@.@..@@.@@@.@@.....@@.@@@.@...@...@@@@@@@@...@@@@@.@@@@@@.@.@@.@..@.@@@@@@@@@.@.@@
@.@@.@@.@@@.@..@@.@@@.@@.@.@.@.@@.@@.@@.@@@@@@@.@@@@..@.@@.@.....@.@.@.@.@@@@.@@@@@@.@@..@@.@@.@@@@@.@.@@@@.@@@@..@@@@@@.@..@.@@@@.@@..@@@@@
@@@@@@.@.@@@@@.@.@.@..@...@.@..@@.@@@@@@.@@.@@@@@@@@@@.@@.@@@@@.@.@@@@@@.@@@@@@.@....@.@@@@@@@@.@.@..@@.....@@.@..@@@@@@@.@@@@.@.@.@@@@.@@@@
@...@...@@@@.@.....@..@@@..@@..@@.@..@.@..@.@@.@.@@@@.@@@@.@@@..@.@@@..@@..@.@.@..@@@@@@@.@@..@@@@@@@@..@@.....@.@@@@@@@@.@@..@@@.@@@.@@.@@@
.@.@@@..@@@@@@.@@.@@@@@@@@.@@@@....@.@.@.@....@@@@@@@.@.@@.@....@.@@@.@@.@..@.@@.@.@@@@@@...@@@@...@@@...@@@.@..@@..@.@..@.@.@@@..@..@.@@.@@
..@.@@@@@@@.@...@.@.@@@@..@@@@@..@@@@@@.@@@.@.@.@@@@@@@@@@.@@@@@.@@@@@.@@@@@@@@@.@@@@@.@@@@.@@@@@@.@@.@@@@@@.@@@@@@@@@@.@..@@@..@.@...@@..@@
.@@@@...@@@@..@.@.@.@@@..@@@@.@@.@@@@.@.@@@@@.@.@@...@...@@...@@@@@..@@@@@@..@.@@....@@.@.@@....@@.@@...@.@@@....@.@@.....@.@@@@..@@@@.@@.@@
@..@@....@.@@@@..@.@@@@@@@@@@@.@@@@.@.@..@@@@.@..@.@...@.@@.@@@.@@@@@@.@.@@..@@@@@@@@@@@@@..@.@....@...@@@..@@@@......@@.@..@@@@@@@@@@...@@.
.@.@@..@@.@@@@@@@@@@@.@@@@@@...@@@.@@@@.@@.@@..@@@@..@..@@.@..@.@...@@.@@@@@@@@@@@@..@.@@.@..@@.@.@.@@.@@@....@@.@@.@@@.@@@@.@@@@@@@@.@@...@
..@@.@.@..@@@@.@@@.@..@@@@@..@@@.@@@@@@@@@@..@@@@@.@@@.@..@.@.@@.@@@@@.@@...@@@@@@@@.@@@@..@@@.@@.@@@@....@@.@@.@@@@@@@@.@@.@.@...@@@@@@.@.@
@@@@@.@@@@@@@@@@@@@.@@@@@..@@@@@@..@@@@....@@.@@..@.@.@@....@@@@@@@@@@@@@.@.@@@@@@.@..@@.@.@@.@@@@@@@.@.@@@@@@@@@..@..@@@@@.@.....@@@.@@@@@@
@@@.@@@@@@@.@.@@@@.@.@@@@@@..@.@@.@@@@.@@@...@@@@@@.@@...@@.@@@@.@.@@@@@@@.@@@@@...@@@.@@@@@@.@@@@@@@@.@.@..@@@@@@@@@.@@.@@.@.@@@...@@@.@..@
@@..@@.@@@@.@..@....@@..@@@@@.@@@@.@.@@.@.@...@@@@@@@..@@@.@@@@@..@@@@.@@@@@@@.@..@@@@.@@.@@..@@..@@..@......@@@@....@@@.@@..@@..@..@..@...@
@..@@@@@@.@.@@@@..@....@.@.@@@@.@@@@@@@.@@@@@@@@@.@.@...@@@@@..@.@@@@.@@@@.@@@.@@@@.@@..@.@@.@@..@@@@@@.@@.@...@@..@@@.@.@@.@@.@..@@@@..@@@.
@@.@@@@@@@.@@....@@@@.@@@@.@@..@.@@@@.@@@@..@.@...@@@.@@@@@..@..@@@@@@@@.@@@..@@@.@..@@@@@.@.@@@@@@@@@@.@@...@@@..@@@@..@@.@.@@...@@.@@.@@..
@@@@@@@..@@@@@@@.....@@@@@.@@..@.@@.@.@..@@.@@@@.@.@..@@.@..@@@@@@@..@@@.@@@@@.@....@.@@@@.@@@@....@..@@@@@@..@@@.@@@@.@..@@@..@@@@@..@@@...
@..@@@@.@@@@.@@@.@.@@@.@@@..@@.@@@@@....@@@@@@@.@@@@@@@@@.@@@@@@..@.@@@.@@@.@@@.@.@@@@@@.@@.@@...@@@...@@@@@@@.@@.@@@..@.@@.@@@@@@@@..@@@.@.
..@@.@.@..@@@@.@@@.@...@...@@@@.@@.@.@.@@.....@.@@.@.@@@@@@.@.@@@.@@@@@..@@.@...@@.@..@@@.@@@@@@@@..@@@.@@.@.@..@..@.@@@@@@@.@.@.@@@.@.@.@..
@@@@.@@.@.@@@.@@.@@@@@.@....@@@@.@@.@...@...@.@@.@@@@@@..@@@..@@@@@@@.@.@.@.@.@@@@.@@..@.@@.@@@....@@..@@@@@@@@@.@@.@@.@@@..@.@@@..@.@@@.@@@
@@.@@@@.@.@@.@@@@@@@..@..@@.@..@.@@@@@@.@@..@...@@@@@@@@@@@@.@.@.@@...@..@.@@@@@.@@@@@@..@@@.@@.@@@.@@@.@...@..@@..@....@..@@@...@@@@.@.@@.@
@.@@@.@@..@@.....@@@@..@.@@@@..@.@.@@@.@.@@@@@@@@.@@@@@@....@@.@@@@@.@@.@@@..@@@@@@@@@@@@@.@@.@.@..@.@.@@.@.@@@..@..@@@...@@...@@@@@@@@@.@.@
@@.@@..@@@@.@.@@.@.@@.@@..@@.@.@@.@@@@..@@..@@@@@....@@@.@@...@..@......@.@@@.@.@.@@@@.@@@..@.@@.@@@@@@@.@..@.@@@..@@@@@@@@@.@.@..@@@@@@@..@
@@..@.@...@@@@.@..@......@.@.@@@@.@@..@@@@@@.@@.@@@...@@..@..@@@@.@@@@..@@..@.@@@...@@@@.@.@@.@.@@..@.@@@@.@@.@.@.@@@.......@@@.@.@.@@@@.@.@
.@@@@@.@@..@..@...@@@@@..@@.@@@.@@@...@@@@@.@@@@@@@.@....@@@.@.@.@.@@@@@@@.@@@.@@@.@@@.@.@.@@...@.@.@.@@@@@.@@@@@@@.@.@@@.@.@@@.@@..@@.@@@.@
@.@@@@..@@@@@@@@@@@@@.@@.....@@@..@..@@@.@@@@.@@...@@@@...@.@@.@@@@@.@@..@..@.@@@@.@@...@.@.@@@.@.@@@.@...@@@@@..@@.@@.@@@@..@.@@.@@@.@@@@@@
@@@.@@@.@@.@@@@@.@@@..@@@.@.@@@.@@.@@@@@@@@@@@.@.@@.@@.@.@@@@.@.@..@.@.@..@.@.@@@@@.@@@.@@.@@@@.@@.@@@.@.@@@.@.@@@@@.@@@@@@.@@.@@..@@@@..@.@
.@@@@...@@@@..@@@.@.@@@@@@@@@@..@.@@.@.@@@@@@..@@@@@....@@@...@@.@@@@@@@@.@@@.@@@@@@@@@@.@@@@.@@@@@.@@@@@@...@@@@@@@@@@@@@@.@@@@...@@@.@@@.@
@@@@.@@@@.@@@@.@.@@.@.@@@.@@@.@@@@@..@@@@.@.@...@....@@..@@@@@@@@@@..@@@.@@.@@.@@.@@@@.....@@@@@@@@.@.@@.@@@.@.@@@@@@@@.@@@@@@@@@..@.@.@@@@@
@..@@@.@@@.....@@@@..@.@@@@@.@@@@.@@@@@@@.@@....@@@@....@.@@.@@@@@@@@.@.@@@.@.@@@@@...@.@....@...@@.@@@@@@@..@.@@@@@@@.@@.@@.@.@@@@@@..@.@.@
@@@@...@.@.@@..@@.@@.@@.@@.@.@@@.@.@@@@@@...@@@@..@@@@.@@.@....@@.@..@@.@.@.@@@@@..@...@@@.@.@.....@@@@@@@@@@@.@@@@..@@.@@@@...@.@..@.@@..@@
@@@@@@.@@@.@@@@.@@@@@...@@@@@@@@@@.@@.@@@@..@@..@....@@@@..@@@..@..@.@@@@@@@.@@..@@@.@...@@@@@@@@@@....@.@..@@@@@@@@@@.@..@..@@.@..@@.@.@.@@
@@.@@@@.@@@@@@@@.@.@@.@.@@.@......@..@@.@@..@@.@.@@.@.@@..@..@@..@@@@...@.@@.@.@.@@@@@@@.@@.@.@.@@@...@.@@@@.@.@.@@.@@.@@@.@..@..@@.@@@@@@@@
@@.@.@@..@@@@.@@.@.@@@@.@.@@@@...@.@@@@@.@@.@@@..@..@.@@..@@.@@@@.@@@@.@@@@@@@@@@...@.@@@@.@..@@@@@@.@@@.@@.@@@@...@@@.@@.@.@.@.@@.@.@@@..@@
.@@.@.@.@.@@@@@@@@@.@@..@@@.@@@@@@@@.@...@@@@@@.@@@@@@.@@@@...@@.@@@..@@@@@.@..@@.@@@@@..@@..@@@..@@@@.@.@@@.@...@@@@@.@@@@.@@..@@.@@@@@@@..
.@@@.@.@@@@@@@@@@.@.@@@.@@@..@.@@@@..@..@..@@@.@@.@.@.@@@@@@.@@@...@@@@@.@.@@@@@@@@@@@@@.@@@@@@@@@@@@@..@..@.@@@@@@@@@@@.@@..@@..@@@..@@@@@@
@@@@@.@@@@@@@@@..@@.@@@..@@@@.@..@@.@@@@@@@@@@@.@..@@..@@@@@.@@@@@@@@@@@@@@.@.@@@.@@@@.@@@@..@@.@@.@...@@@@.@@...@.@@..@@.@.@..@@..@@.@.@@@@
@@.@.@..@@.@@@..@@@@@.@.@.@@.@.@@.@.@@@@.@..@.@..@.@@@..@....@...@@@@..@.@@@.@@@@@@@@@.@@.@@..@@@..@..@@@@@..@@@.@@@@@..@.@.@@@@@.@.@.@@@@.@
@@..@..@@@.@@@.@..@.@.@.@.@@@@@@.@..@..@@....@@...@@@@@@@@.@@@@.@...@@.@.@.@@@@@@...@@@@@@..@...@@@.....@@@..@@@.@@.@.@.@..@@@..@@..@@.@@@@@
@.@.@@@.@@.@@@@.@.@.@.@.@..@.@@@@.@@.@@.@.@@.@.@@.@.@..@...@@...@.@@.@@@.@@@@@.@@.@@.@@@.@@@.@@@@.@@@@@..@.@...@.@@@@....@@@@@.@.@@.@.@@@.@@
@@@@.@@@.@@.@@...@@..@@.@@..@..@.@@@@..@.@...@.@@@.@.@@.@@@.@@.@@@.@@...@.@@.@@.@@@@..@@@.@@.@.@@..@@@.@@@@@@@@.@...@@@@@.@@@@@...@@@@@@@.@@
..@.@.@@@@.@..@@.@.@@..@@@@.@.@@@@@@@@@@@@@@@.@@@@@@@@.....@@@@.@@.@.@@@@@@@@.@@@@@@@@@@@@@..@@@@@@@.@@@...@@@@.@@@@.@@.@@.@@@.@@@@@@.@@@.@@
@@.@@@@@@..@@@@@.@.@@@.@@@.@@@.@@@@.@@.@@.@@@@@@@@@.@@@@.@@@...@@.@.@.@.@@.@@@@.@@@.@.@@@@@@@@@@.@@..@@.@.@@@@@.@@@.@@..@@@@....@@@@@@.@.@@.
@@@@.@@@@@@..@@@..@@@@@@@@@.@@@@..@@..@@@@@.@@@@@@@@..@@@.@@@@.@.@@@.@@@@.@@@@@@@.....@@@@.@@@..@.@@@@@@@@@@.@.@.@..@..@@@@.@@.@@@@@.@@@@@..
.@.@.@..@.@@@.@.....@@@.@..@@@@@.@@.@..@..@@@....@@@.@@.@@.@.@@.@..@@.@.@.@@@..@..@@@.@@..@@@.@...@.@@.@@@.@.@@..@@@@@@.@.@@@@@@@@@@.@@@..@@
@@@@.@@..@.@.@.@.@...@@@..@....@.@.@@@@@@..@.@...@@@@@@.@.@@@.@..@..@@@@@@@@...@@.@@@@.@@..@.@.@@@@@.@..@@@@@.@@..@@@.@.@...@.@@.@@@..@@@.@@
@@@@...@@.@@.@.@.@@@.@.@@@@@..@@@.@@@@@.@.@@@@.@.@@@@...@@.@@@@@...@...@@@@..@@..@@...@.@@@@@@.@..@@@..@@.@@@...@@@.@.@.@@@@..@@@@.@@@@.@..@
@@@@@.@..@..@@..@..@.@.@@..@....@.@@@..@...@@@....@.@@@.@@.@@@@@@.@@@.@.@.@@@..@@@@@@@..@@.@@..@@.@@@.@@@@@..@.@.@....@...@@@.@@..@@@@...@@@
@@@@@@..@@@@.@@.....@..@@@@..@@@@...@@@@@@@@..@@@@.@.@@.@@..@..@@@.@.@.@.@@@..@@@@@@@@@@..@@@@@@@@@@.@@@@..@@@.@@@..@@.@.@@.@@....@.@..@@.@.
@@@@.@..@@@@@..@.@@@@.@@@@@...@@@@@@.@.@@.@@..@@@.@.@@@@.@@@@@@.@@@@@@.@@@@@@@@@.@@.@@@.@@@@@.@@@.@@@@@..@..@..@@@@@@.@@@@@@@@@@@@@@.@@@.@@@
@@.@@@..@@@.@@@@@.@@..@@@@...@@@@@@.@@@@.@@.@.@@@.@.@..@.@@@@@@@@.@@..@.@....@@@.@@@@@@@@@@@@@@@@@..@@...@.@...@@@@.@@@@@@.@@@...@@..@.@@@.@
@@@@@@@@@@@@.@@.@.@@..@.@@@@.@@@@..@@..@..@@..@.@@@@@@@@.@.@.@.@@.@@@@@@@...@@.@@@.@@.@@@.@@@@@@@@@@@.@@...@@@.@.@@@@.@@..@@@@.@@..@..@@@@..
@@.@...@.@.@@@@@....@.@@@.@.@@.@.@@..@.@@@...@..@.@@@.@@@.@@.@@@.@..@@..@@..@@.@@.@.@@.@@@..@@.@...@..@@@@@@@@.@@@.@@.@@.@@..@@@@@...@@..@@@
@@@..@@@@@@@.@@.@@@@@@@@@@@@..@.@..@@@@..@@.@@@@.@@@@.@..@...@@@@@@@..@.@@@@...@..@@.@.@@.@@..@.@@..@..@@@.@@@@@@@@...@@@.@.@@.@@.@@@@.@@@.@
@@@.@@@.@@@@.@.@..@.@.@@@@.@@...@@....@.@@@.@.@@@.@@@@@@..@@@.@@....@.@@@..@...@.@..@@@@.@@@.@@@.@.@..@@@@@@@@@@@..@.@.@.@@@@@@@.@@.@@@@@@.@
@@.@@....@@...@@.@@@@@@..@...@@@@@@@@@....@@@.@.@@.@@.@.@@@@.@.@@@@@@@..@.@@@@..@@@@@.@@.@@@.@@.@@.@.@.@@@@.@.@.@@...@@.@@@.@@@@@@@@@...@@@@
@.@@@@.@@@@@@.@.@@@@.@...@@..@@.@@.@@..@.@.@..@@@.@..@..@@.@@@.....@@.@@.@@.@@.@..@@.@@..@@@@@.@@.@@@.@@@.@@@@@.@@@.@@@@@.@@...@@@@..@@@..@@
@@@@@....@.@..@.@@.@@.@@@.@@@@@..@@@@@@@...@@@@@@.@@.@.@@@@...@@@@@@.@@.@....@@@@@@.@.@@@@@@@@@@@.@.@@@@.@.@.@@.@.@@@@.@@@@.@@@@.@@@@@@.@.@@
@...@@.@@@@.@@..@@@.@@@.@@.@.@@@.@..@@@.@@..@@@@@.@.@@@@@@@@@..@@@.@...@.@..@.@@.@..@@..@@..@@@@@@.@..@@@.@@@@@.@...@..@@@..@.@.@@..@@@.@..@
.@@@@@.@@@.@..@@@.@@@@@@@@@@@@@.@@@@..@@.@@@.@@..@@.@@@@@..@@..@.@.@.@@@@@@@@.@@.@.@@.@@@@@@..@@@@.@@@@.@...@@.@.......@.@.@.@@@.@..@@.@@@@.
@@.@...@@@@@@@@..@@.@@@@@@@@@@.@.@@@.@@..@....@.@....@@@@@.@@@@.@@.@.@..@.@@@....@.@@.@@@@...@.@...@@@@.@@.@..@..@@@....@.@.@..@...@@@@@@.@@
.@.@@@@.@.@@@.@.@@@@@@@@@@.@@@@.@@@.@..@@@..@@@@@@.@@@..@@@@@@@@@@@@@@.@@.@@@@@.@@@...@@@.@...@@@@.@..@@.@@@@..@@@@@@@@@@@@..@@@@@.@@.@@.@@@
.@.@@@@..@@.@@@@@@.@@@@..@@@@@@.@@.....@..@..@@@@.@@....@@@.@@..@@.@@@@@@@.@@@@@..@.@@@@@@...@...@@.@@@@@.@@@@.@@..@@@.@@.@..@...@@.@@.@@@@@
@@@@@@@@.@@...@@...@..@@@@@.@@@...@@@@@@@@.@@@.@@.@@.@@@@@@@@@@@@@@.@@@...@@@.@.@@.@@.@@@@@@@@...@.@@@....@..@.@@.@.@..@.@..@@@.@.@@.@@...@@
@@@.@@@.@@@@.@.@@@@@@@.@.@..@...@@@@@.@@@@@..@@@@@..@@..@@@@@@@@.@..@@@@@..@...@@..@.@.@@.@@.@..@@@@@.@@@@@@@@@.@.@@@@.@@@.@.@@.@@@@@@@.@.@.
..@@@.@.@.@@@.@@@@@@..@@.@@@.@@@.@@@.@....@@.@.@.@@.@@@.@@@@.@@@....@@..@.@.@@@@@@@@@@@.@@@@@.@..@@..@@@@...@@@@@.@@@..@@@..@.@....@@...@@@@
@..@@..@@@@.@@@@@@@@@@.@@@@@.@....@@@@@@@@.@@@@@@@@@.@.@@@@@..@@@@@.@.@.@..@@...@.@@@.@.@@@@@.@@.@@@@@@@.@.@.@.@.@@@....@.@.@..@@@@@..@.@@.@
@@.@@@@@.@@..@@.@@.@@@@@.@@@@@@@.@@@..@@@@@@@@@@.@@@@@.@@@..@@@@.@.@...@.@@...@@@@@.@@@.@@@..@.@..@@..@@@@@@@.@.@@@..@@@@@@@@@@@@.@@@.@@@.@.
@@@@@.@@.@@@@.@@@@@@@@@@@.@@.@@@.@...@@.@..@@@@..@.@@.@@@@@.@@@.@@@.@@..@@@@.@.@@@@@@@@.@.@@.@.@@.@@@.@@@.@@@@@.@@.@@@.@@.@..@@@..@.@.@@...@
@@..@.@@.@...@.@@@@.@..@@@.@@@@@@@@@@@@...@@@@.@@@.@@.@@@..@.@@@.@@@@..@@@.@.@@@@@.@..@.@@@@@@.@@.@@..@..@..@..@@.@@@.@@@.@@@@.....@@@@..@@@
@@.@@@@@.@@.@@@.@.@.....@@@.@@.@@@.@...@.@@@@@@.@@.@@@..@@.@@..@.@@.@@@.@@@@..@@@..@.@.@@@@.@@.@@@@.@@@...@@@.@@@@@.@@@.@.@@@@@.@@@@@@@@@.@@
@@@@@@.@.@@.@@..@@@@@.@@..@@@@@@@.@@.@@@.@..@@@@.@@..@.@@@@.@@@@@@@.@@.@@@@@@@.@@@@@@.@@@.@.@@@.@@@@@.@@@@.@@..@@.@@.@.@.@@@@@.@..@@@@...@.@
.@@@.@@@.@.@@@@..@.@.@.@@@@..@@@@...@@@@...@@@@@.@@..@@@.@.@@@.@@.@@.@@@@..@@@@@@@@....@@@...@....@.@@.@@@.@@@..@@@@@.@@.@@@@.@...@@@.@.@.@.
@.@@@@@@..@@@@@@.@...@@@@..@@@@@@@@.@..@..@@@@..@@@@@.@@@@@@@..@@.@@@@@.@@..@@@@@.@.@.@.@..@@@@@..@.@@@@@@@@....@..@@@@@@..@..@..@@..@.@.@..
@.@@@.@.@.@@@@@.@@@@@.@@.@@@@@.@@@@.@...@.@.@.@@..@...@@..@.@@...@@..@@@.@..@@@@@@@@@@@@@...@..@@@@.@@.@.@@@.@@@@@..@..@..@@.@@.@@..@...@@@@
.@@@@@@....@@@@@@..@.@@@@..@@..@...@@.@@@@@@@@...@.@@@..@@@.@..@..@..@.@@.@@@@@@@@@@@@@.@.@@@@@@@...@@.@@.@@@.@@@.@@@.@@..@.@@@.@...@@@@@@@.
@.@.@@@@.@@@.@....@@@...@..@@.@@@@..@.@.@.@@...@..@.@@.@@.@@.@@.@@.@.@@.@@@..@@..@..@.@...@@.@@@.@@@@@..@..@@@..@@@.@@@.@@@@@@@@.@@@.@..@.@.
@@@..@@@.@@.@.@@@@@..@@@.@@.@@@@@...@@....@.@.@.@.@@@@@@@@.@@@@..@@@..@@..@@@@.@@...@@@..@@.@@@@@.@@@@@.@..@@@@@.@@@...@@@@@@.@@.@..@@@..@..
@@@@@.@@@.@@@.@@@.....@@@..@@@@.@@@@@@@@@@@....@.@@@@.@@@....@@.@@..@@@@@..@.@.@@..@@@@.@..@..@@...@@.@.@@@@.@@@@@@.@@@@@@@...@.@.@..@@@@@@.
..@...@@.@@@@@.@...@@@.@.@.@.@.@..@@.@.@@.@.@..@.@.@.@@@.@.@...@@@@@@@..@@@..@@@..@.@@.@.@.@@@..@@.@@@@@@@@@...@@@@@@.@@@@@@.@@@@@@.@@@@@@@@
@@@@@.@..@@@@@@@.@@@@@@.@@@.@@.@.@@.@.@@.@@..@@@..@.@@.@@@@@@...@@.@...@@.@@@@.@@@@.@@@@@@.@@@.@.@.@@@@.@..@..@@@@@@@@@@..@@@@@.......@..@.@
.@@.@..@@.@.@..@@@.@@@.@@.@@.@@@.@@@@@@@@@.@.@@@..@@...@@@...@@@.@.@.@@.@@@..@.@@@....@@@@@@......@@..@@@.@.@.@.@@@@.@@@.@.@@.@@@@.@@@@.@.@@
@@@@@@.@@@..@@@@..@@@@@@.@.@@@.@@....@@...@..@@@@@.@.@...@.@.@.@.@@..@@.@.@.@.@@@@.@@.@@.@@@.@@.@.@@@@.@@.@@@@@@@@@@@.@.@@.@@.@@@@@@@..@@..@
@@@.@.@@@@.@@.....@.@..@@@@@@@@@.@@.@@@.@..@@@@...@@..@@@.@..@@@.@@.@@..@@.@.@@@.@.@@@.@..@@@.@@@.@..@@.@@.@@@@@@@....@@.@@@.@@.@.@@.@@@@@@.
@.@@.@@..@@@@@@@@@@...@.@@@@@@@.@@.@@@@...@..@@.@@@@.....@.@@@@@@@..@....@@@@@@@@@....@@@@..@@@@@@..@.@@.@@@..@@@@@@@.@.@@@@@.@..@@.@.@...@@
.@@@@@@@@@@@@@..@@....@.@@.@@@@@.@..@.@@@...@....@@@@...@....@@...@.@@@@@@@@.@@@.@@@.@..@.@.@@...@@.@@@@.@@@...@@@..@..@.@..@.@...@@.@.@@@.@
@@...@@@@@.@.....@.@.@@@.@@.@@@@@.@@@@.@@...@@@@..@@.@@@@..@...@@@@@@@@..@@@@@@@@@@@@...@@@@.@@@@@.@@@@....@@@@@@@@@..@@@@@.@.@@@@@.@@.@@.@@
@@...@@.@@.@@..@....@@@@@@.@.@@.@@@@@.@@@@@@@.@.@...@.@.@.@@@@.@@@.@.@...@.@@..@@@.@.@..@..@@@@..@@.@@.@..@@@@@@....@@.@@.@@@@..@@.@@..@..@.
..@@....@.@.@.@.@@...@@@@..@@@.@@@@@@@@@.@@@@@@@@.@@@@.@@.@@..@@.@..@..@.@@@@@.@@@@@@@.@.@@..@@@@..@@.@@.@@.@@@@@..@@@@.@@@@@@..@..@@@@....@
@..@@@@@@@.@@@@..@@@@@@.@@@@@.@@@@@@@@@.@.@@@@@@@.@.@@@.....@@.@..@.@.@@@..@@@.@@@@.@..@..@.@@..@.@@@@.@@@@..@@@..@.@@@@@.@@@.@..@.@@@@@@@@@
..@@@@@.@@@@.@..@@.@@@@@@..@@@@@.......@.@@.@@.@@@@@.@@@..@@@@.@.@.@@.@@..@.@....@@@@.@@.@.@@@@@@...@@..@@@.@.@@@.@@@@.....@@@@@@@..@@..@@@.
@@.@..@@@.@.@@@@@.@.@@..@.@..@....@.@...@.@..@...@..@@.@@...@@@...@@@@@@@@@@@@@.@@...@@@.@@@..@.@@@..@@@@.@@@@@.@@..@@@.@@.@.@@@@.@.@.@@@.@@
@@@.@@@@..@..@@.@@@@@@@@@@...@...@@@@.@@..@.@@@@@@@@@@@@.@..@@.@@@@@@@.@@@@@@@....@@..@@.@@@..@@.@..@@@.@.@@@@...@@@..@@@@@@@.@.@.@@@@.@@@@@
.@@@...@@@@@@@@.@.@@@..@@@@.@..@@@.@@.@@.@@@.@@.@.@.@.@.@.@@..@@......@@.@@@@.@@.@@@.@.@@@@..@@.@@@@@.@@@.@@@@@@@@@..@@@@@.@@@.@@@@.@@.@@.@.
@@...@@@@@@@@.@..@@...@@..@@...@.@.@@.@@@@@..@@.@..@.@@@@.@@@@@@.@@@@@@@.@.@@..@.@.@@..@@@@@@...@@@@@@@@.@.@@..@.@@..@@@..@@@@.@@@..@..@.@@@
..@.......@@....@..@.@@@@@@@@..@@.@@@@@.@@@@@@..@.@.@@@@.@...@.@@@@@@..@.@@@.@@.@@...@@@.@@@@@.@@@..@.@@@@@@@@@@@@@@@.@@.@.@@@@@@.@@.@@...@.
@@.@@..@@.@@@@..@@.@..@@@@.@@@@.@..@.@@.@@@.@.@.@@@@.@.@..@..@..@.@@@@.@@.@@@.@@@@.@@.@.@@@.@@@.@@@.@.@@@....@@@@@@@.....@@.@@.@@.@@.@@@@@@@"""


def part1(inp: str):
    res = 0
    dirs = [(-1, -1), (-1, 1), (-1, 0), (1, -1), (1, 0), (0, 1), (0, -1), (1, 1)]
    lines = inp.splitlines()
    for r in range(len(lines)):
        for c in range(len(lines[r])):
            count = 0
            if lines[r][c] == "@":
                for dir in dirs:
                    x, y = dir
                    rx = r + x
                    cy = c + y
                    if (
                        0 <= rx < len(lines)
                        and 0 <= cy < len(lines[0])
                        and lines[r + x][c + y] == "@"
                    ):
                        count += 1
                if count < 4:
                    res += 1
    return res


# print(part1(real))


def replacer(lines, to_repalce):
    for r, c in to_repalce:
        lines[r] = lines[r][:c] + "." + lines[r][c + 1 :]


def do_bfs(lines):
    res = 0
    dirs = [(-1, -1), (-1, 1), (-1, 0), (1, -1), (1, 0), (0, 1), (0, -1), (1, 1)]
    to_replace = []
    for r in range(len(lines)):
        for c in range(len(lines[r])):
            count = 0
            if lines[r][c] == "@":
                for dir in dirs:
                    x, y = dir
                    rx = r + x
                    cy = c + y
                    if (
                        0 <= rx < len(lines)
                        and 0 <= cy < len(lines[0])
                        and lines[r + x][c + y] == "@"
                    ):
                        count += 1
                if count < 4:
                    # lines[r] = lines[r][:c] + "." + lines[r][c + 1 :]
                    to_replace.append((r, c))
                    res += 1
    return res, to_replace


def part2(inp: str):
    res = 0
    lines = inp.splitlines()
    last_lines = []

    while True:
        count, to_replace = do_bfs(lines)
        replacer(lines, to_replace)
        res += count
        if last_lines == lines:
            break
        last_lines = lines.copy()
        for i in lines:
            print(i)
    return res
    # while True:
    #     do_bfs(lines)
    # return res


print(part2(real))
